(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},39641:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=a(73137),r=a(54647),n=a(4183),i=a.n(n),o=a(71775),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let p=s.AppPageRouteModule,d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,11003)),"/home/bruno/Desktop/lamamia/src/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,18375)),"/home/bruno/Desktop/lamamia/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/bruno/Desktop/lamamia/src/app/dashboard/page.tsx"],u="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new p({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},39493:(e,t,a)=>{Promise.resolve().then(a.bind(a,59090))},59090:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(60080),r=a(9885),n=a(58185),i=a.n(n),o=a(97146),l=a(74284),p=a(57114),d=a(52451),c=a.n(d);let u=async()=>{let e=await fetch("/api/posts"),t=await e.json();return{data:t,error:null}},m=()=>{let{data:e,mutate:t,error:a,isValidating:n}=(0,o.ZP)("/api/posts",u),{data:d,status:m}=(0,l.useSession)(),h=(0,p.useRouter)();if((0,r.useEffect)(()=>{"unauthenticated"===m&&h?.push("/dashboard/login")},[m,h]),"loading"===m)return s.jsx("p",{children:"Loading..."});let x=async e=>{e.preventDefault();let a=e.currentTarget,s=a.elements[0].value,r=a.elements[1].value,n=a.elements[2].value,i=a.elements[3].value;try{d?.user?(await fetch("/api/posts",{method:"POST",body:JSON.stringify({title:s,desc:r,img:n,content:i,username:d.user.name})}),t(),e.currentTarget.reset()):console.error("Error: sessionData or sessionData.user is undefined.")}catch(e){console.error(e)}},_=async e=>{try{await fetch(`/api/posts/${e}`,{method:"DELETE"}),t()}catch(e){console.error(e)}};return"authenticated"===m?(0,s.jsxs)("div",{className:i().container,children:[d?.user&&(0,s.jsxs)("div",{className:i().user,children:["Welcome ",d.user.name]}),s.jsx("div",{className:i().posts,children:n?"loading":e?.data.map(e=>s.jsxs("div",{className:i().post,children:[s.jsx("div",{className:i().imgContainer,children:s.jsx(c(),{src:e.img,alt:"",width:200,height:100})}),s.jsx("h2",{className:i().postTitle,children:e.title}),s.jsx("span",{className:i().delete,onClick:()=>_(e._id),children:"X"})]},e._id))}),(0,s.jsxs)("form",{className:i().new,onSubmit:x,children:[s.jsx("h1",{className:i().formTitle,children:"Add New Post"}),s.jsx("input",{type:"text",placeholder:"Title",className:i().input}),s.jsx("input",{type:"text",placeholder:"Desc",className:i().input}),s.jsx("input",{type:"text",placeholder:"Image",className:i().input}),s.jsx("textarea",{placeholder:"Content",className:i().textArea,cols:30,rows:10}),s.jsx("button",{type:"submit",className:i().button,children:"Send"})]})]}):null}},58185:e=>{e.exports={container:"page_container__WJamO",user:"page_user__pgWxi",formTitle:"page_formTitle__egJ1g",posts:"page_posts__eax_C",post:"page_post__pXkpz",imgContainer:"page_imgContainer__jS3d9",img:"page_img__us61D",delete:"page_delete__kVuRb",new:"page_new__XOsfM",input:"page_input__olAOO",textArea:"page_textArea__29HOB",button:"page_button__4CD3K"}},11003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=a(17536);let r=(0,s.createProxy)(String.raw`/home/bruno/Desktop/lamamia/src/app/dashboard/page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default,l=o},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(96885);let r=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[882,20,166,885,565,735],()=>a(39641));module.exports=s})();